(this["webpackJsonptask-app"]=this["webpackJsonptask-app"]||[]).push([[0],{206:function(e,t,n){e.exports=n(491)},487:function(e,t){},491:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(35),c=n.n(o),l=n(32),u=n(23),s=n(194),i=n.n(s),p=n(195),d=n(15),m={todos:[],tasks:[]},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TODOS":return Object(d.a)(Object(d.a)({},e),{},{todos:t.todos});case"ADD_TASK":case"ADD_COLUMN":case"DELETE_COLUMN":case"DELETE_TASK":return Object(d.a)({},e);case"PATCH_COLUMN":return Object(d.a)(Object(d.a)({},e),{},{todos:t.order2});case"CHANGE_COLUMNS":return Object(d.a)({},e);default:return e}},h=Object(u.c)({todo:f}),b=Object(u.c)({todoApp:h}),g=[p.a,i()()],v=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,O=Object(u.e)(b,{},v(u.a.apply(void 0,g))),E=n(33),k=n.n(E),j=n(52),C=n(123),w=n(38),x=n(39),S=n(41),y=n(40),D=n(19),_=(n(216),n(47)),F=n(20);function I(){var e=Object(D.a)(["\n    border: none;\n    box-shadow:0 0px 5px rgba(127, 126, 126, 0.6),0 0px 0px rgba(0,0,0,0.22);\n    border-radius: 3px;\n    overflow: hidden;\ntext-overflow: ellipsis;\n    padding: 8px;\n    margin-bottom: 8px;\n    background-color: ",";\n"]);return I=function(){return e},e}var T=F.a.div(I(),(function(e){return e.color?e.color:"white"})),A=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(x.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(_.b,{draggableId:this.props.task._id,index:this.props.index},(function(t,n){return r.a.createElement(T,Object.assign({},t.draggableProps,t.dragHandleProps,{color:e.props.task.color,ref:t.innerRef,isDragging:n.isDragging}),e.props.task.name)}))}}]),n}(r.a.Component),N=n(513),L=n(514),P=n(510),M=n(200),U=n(115);function B(){var e=Object(D.a)(["\n  width: 40px;\n  height: 40px;\n  background: ",";\n  margin: 0 5px 5px 0;\n  border-radius: 5px;\n  border: none;\n  box-shadow: ",";\n"]);return B=function(){return e},e}var H=F.a.button(B(),(function(e){return e.background?e.background:"white"}),(function(e){return e.background===e.color?"0px 0px 5px"+e.color:"none"})),R=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"]},e}return Object(x.a)(n,[{key:"render",value:function(){var e=this;return this.state.colors.map((function(t){return r.a.createElement(H,{color:e.props.color,background:t,onClick:function(n){e.props.onChangeComplete(t)}})}))}}]),n}(a.Component),K=n(44),G=n.n(K),J="https://cryptic-beach-01154.herokuapp.com",X=function(){return function(){var e=Object(j.a)(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.get("".concat(J,"/todo")).then((function(e){t({type:"GET_TODOS",todos:e.data})})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(j.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.a.put("https://cryptic-beach-01154.herokuapp.com/collums",e).then((function(){n(X())})).catch((function(e){return console.log(e)}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},V=function(e){return function(t){G.a.post("".concat(J,"/collums"),e).then((function(n){t({type:"ADD_COLUMN",column:e}),t(X())}))}},q=function(e){return function(t){G.a.delete("".concat(J,"/collums"),{data:{id:e}}).then((function(n){t({type:"DELETE_COLUMN",id:e}),t(X())}))}};function Q(){var e=Object(D.a)(["\n  margin: 0.5em;\n  float: right;\n"]);return Q=function(){return e},e}function W(){var e=Object(D.a)(["\n  margin: 0 0.5em 0.7em 0.5em;\n"]);return W=function(){return e},e}function Y(){var e=Object(D.a)(["\n  border-radius: 0 0 5px 5px;\n  padding: 8px;\n  transition: background-color 0.2s ease;\n  background-color: ",";\n  flex-grow: 1;\n  height: auto;\n"]);return Y=function(){return e},e}function Z(){var e=Object(D.a)(["\n  margin: 0em 0 0.2em 0;\n"]);return Z=function(){return e},e}function $(){var e=Object(D.a)(["\n  padding: 8px;\n"]);return $=function(){return e},e}function ee(){var e=Object(D.a)(["\n  margin: 8px;\n  border: none;\n  box-shadow: 0 0px 5px rgba(127, 126, 126, 0.6), 0 0px 0px rgba(0, 0, 0, 0.22);\n\n  background: white;\n  border-radius: 5px;\n  width: 300px;\n  display: flex;\n  flex-direction: column;\n"]);return ee=function(){return e},e}var te=F.a.div(ee()),ne=F.a.h3($()),ae=F.a.div(Z()),re=F.a.div(Y(),(function(e){return e.color?e.color:"white"})),oe=F.a.div(W()),ce=F.a.div(Q()),le=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={activeId:null,collum:{name:"",color:"",_id:""}},e}return Object(x.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(L.a,{isShown:this.state.activeId===this.props.column._id,title:"Edit column",onCloseComplete:function(){return e.setState({activeId:null})},hasFooter:!1},r.a.createElement(oe,null,r.a.createElement(ae,null,"Name"),r.a.createElement(P.a,{onChange:function(t){return e.setState({collum:Object(d.a)(Object(d.a)({},e.state.collum),{},{name:t.target.value})})},value:this.state.collum.name})),r.a.createElement(oe,null,r.a.createElement(ae,null,"Color"),r.a.createElement(R,{color:this.state.collum.color,onChangeComplete:function(t){return e.setState({collum:Object(d.a)(Object(d.a)({},e.state.collum),{},{color:t})})}})),r.a.createElement(ce,null,r.a.createElement(M.a,{appearance:"minimal",intent:"danger",onClick:function(){e.props.deleteColumn(e.state.collum._id),e.setState({activeId:null,collum:{}})}},"Delete"),r.a.createElement(M.a,{marginLeft:10,appearance:"minimal",intent:"success",onClick:function(){e.props.changeColumns(e.state.collum),e.setState({activeId:null,collum:{}})}},"Save"))),r.a.createElement(_.b,{draggableId:this.props.column._id,index:this.props.index},(function(t){return r.a.createElement(te,Object.assign({},t.draggableProps,{ref:t.innerRef}),r.a.createElement(ne,t.dragHandleProps,e.props.column.name,r.a.createElement(N.a,{style:{float:"right"},cursor:"pointer",marginLeft:"1em",onClick:function(){return e.setState({activeId:e.props.column._id,collum:{_id:e.props.column._id,name:e.props.column.name,color:e.props.column.color}})}})),r.a.createElement(_.c,{droppableId:e.props.column._id,isDropDisabled:e.props.isDropDisabled,type:"task"},(function(t,n){return r.a.createElement(re,Object.assign({ref:t.innerRef},t.droppableProps,{isDraggingOver:n.isDraggingOver,color:e.props.column.color}),e.props.column.tasks.map((function(e,t){return r.a.createElement(A,{key:e._id,task:e,index:t})})),t.placeholder)})))})))}}]),n}(r.a.Component),ue=Object(l.b)(null,{changeColumns:z,deleteColumn:q})(le),se=n(512),ie=n(511);function pe(){var e=Object(D.a)(["\n  display: grid;\n  grid-template-columns: 50% 50%;\n"]);return pe=function(){return e},e}function de(){var e=Object(D.a)(["\n  margin: 0em 0 0.2em 0;\n"]);return de=function(){return e},e}function me(){var e=Object(D.a)(["\n  margin: 0.5em;\n  float: right;\n"]);return me=function(){return e},e}function fe(){var e=Object(D.a)(["\n  margin: 0 0.5em 0.7em 0.5em;\n"]);return fe=function(){return e},e}function he(){var e=Object(D.a)(["\n  padding: 1em;\n  margin: 1em;\n"]);return he=function(){return e},e}var be=F.a.div(he()),ge=F.a.div(fe()),ve=F.a.div(me()),Oe=F.a.div(de()),Ee=F.a.div(pe()),ke={boxShadow:"none"},je=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={taskIsShown:!1,columnIsShown:!1,task:{owner:"",name:"",color:"#FFFFFF",status:!1,desk:""},collum:{name:"",color:"#FFFFFF"}},e}return Object(x.a)(n,[{key:"render",value:function(){var e=this,t=this.props.todos[0].collums.map((function(e){return{label:e.name,id:e._id}}));return r.a.createElement(be,null,r.a.createElement(L.a,{isShown:this.state.taskIsShown,title:"Add new task",onCloseComplete:function(){return e.setState({taskIsShown:!1})},hasFooter:!1},r.a.createElement(Ee,null,r.a.createElement(ge,null,r.a.createElement(Oe,null,"Column"),r.a.createElement(se.a,{style:ke,width:"100%",items:t,itemToString:function(e){return e?e.label:""},onChange:function(t){return e.setState({task:Object(d.a)(Object(d.a)({},e.state.task),{},{owner:t.id})})},placeholder:"Select the column"})),r.a.createElement(ge,null,r.a.createElement(Oe,null,"Name"),r.a.createElement(P.a,{width:"100%",onChange:function(t){return e.setState({task:Object(d.a)(Object(d.a)({},e.state.task),{},{name:t.target.value})})},value:this.state.task.name,placeholder:"Enter the task name"}))),r.a.createElement(ge,null,r.a.createElement(Oe,null,"Color"),r.a.createElement(R,{color:this.state.task.color,onChangeComplete:function(t){return e.setState({task:Object(d.a)(Object(d.a)({},e.state.task),{},{color:t})})}})),r.a.createElement(ge,null,r.a.createElement(Oe,null,"Description"),r.a.createElement(ie.a,{onChange:function(t){return e.setState({task:Object(d.a)(Object(d.a)({},e.state.task),{},{desk:t.target.value})})},value:this.state.task.desk,placeholder:"Enter the task description"})),r.a.createElement(ve,null,r.a.createElement(M.a,{appearance:"minimal",intent:"success",onClick:function(){e.props.addNewTask(e.state.task),e.setState({taskIsShown:!1,task:{color:"#FFFFFF",status:!1}})},disabled:""===this.state.task.owner||null===this.state.task.owner},"Submit"))),r.a.createElement(L.a,{isShown:this.state.columnIsShown,title:"Add new column",onCloseComplete:function(){return e.setState({columnIsShown:!1})},hasFooter:!1},r.a.createElement(ge,null,r.a.createElement(Oe,null,"Name"),r.a.createElement(P.a,{onChange:function(t){return e.setState({collum:Object(d.a)(Object(d.a)({},e.state.collum),{},{name:t.target.value})})},value:this.state.collum.name,placeholder:"Enter the column name"})),r.a.createElement(ge,null,r.a.createElement(Oe,null,"Color"),r.a.createElement(U.TwitterPicker,{color:this.state.collum.color,triangle:"hide",onChangeComplete:function(t){return e.setState({collum:Object(d.a)(Object(d.a)({},e.state.collum),{},{color:t.hex})})}})),r.a.createElement(ve,null,r.a.createElement(M.a,{appearance:"minimal",intent:"success",onClick:function(){e.props.addNewColumn(e.state.collum),e.setState({columnIsShown:!1})}},"Submit"))),r.a.createElement(M.a,{intent:"none",onClick:function(){return e.setState({taskIsShown:!0})}},"New task"),r.a.createElement(M.a,{intent:"none",marginLeft:"1em",onClick:function(){return e.setState({columnIsShown:!0})}},"New column"))}}]),n}(a.Component),Ce=Object(l.b)(null,{addNewTask:function(e){return function(t){G.a.post("".concat(J,"/tasks"),e).then((function(n){t({type:"ADD_TASK",task:e}),t(X())}))}},addNewColumn:V})(je),we=n(124),xe=n(199);function Se(){var e=Object(D.a)(["\n  display: flex;\n"]);return Se=function(){return e},e}var ye=n.n(xe)()("https://cryptic-beach-01154.herokuapp.com",{transports:["websocket"]}),De=F.a.div(Se()),_e=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(w.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={todos:null},e.onDragEnd=function(t){var n=t.destination,a=t.source,r=t.type;if(n&&(n.droppableId!==a.droppableId||n.index!==a.index))if("column"!==r)if(a.droppableId!==n.droppableId){var o=e.state.todos[0].collums.find((function(e){return e._id===a.droppableId})),c=e.state.todos[0].collums.find((function(e){return e._id===n.droppableId})),l=o.tasks,u=c.tasks,s=l.splice(a.index,1),i=Object(C.a)(s,1)[0];u.splice(n.index,0,i),e.props.patchColumns({sourceColumn:o,destColumn:c})}else{var p=e.state.todos[0].collums.find((function(e){return e._id===a.droppableId})),m=p.tasks,f=m.splice(a.index,1),h=Object(C.a)(f,1)[0];m.splice(n.index,0,h),e.props.changeColumns(p)}else{var b=Array.from(e.state.todos[0].collums);b.splice(a.index,1),b.splice(n.index,0,e.state.todos[0].collums[a.index]);var g={0:Object(d.a)(Object(d.a)({},e.state.todos),{},{collums:b})};e.props.patchColumn(b,g)}},e}return Object(x.a)(n,[{key:"componentDidMount",value:function(){var e=Object(j.a)(k.a.mark((function e(){var t=this;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.getTodos();case 2:return this.setState({todos:this.props.app.todo.todos}),e.next=5,ye.on("data",(function(e){t.props.getTodos()}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return null!==this.state.todos&&0!==this.state.todos.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ce,{todos:this.state.todos}),r.a.createElement(we.a,{display:"flex",margin:"1em",minHeight:"70vh",width:"100%-2em",overflow:"auto"},r.a.createElement(_.a,{onDragEnd:this.onDragEnd},r.a.createElement(_.c,{droppableId:"all-columns",direction:"horizontal",type:"column"},(function(t){return r.a.createElement(De,Object.assign({ref:t.innerRef},t.droppableProps),e.state.todos[0].collums.map((function(e,t){var n=e;return r.a.createElement(ue,{key:n._id,column:n,tasks:n.tasks,index:t})})),t.placeholder)}))))):null}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.app.todo.todos!==t.todos?{todos:e.app.todo.todos}:null}}]),n}(r.a.Component),Fe=Object(l.b)((function(e){return{app:e.todoApp}}),{getTodos:X,addNewColumn:V,deleteColumn:q,deleteTask:function(e){return function(t){G.a.delete("".concat(J,"/tasks"),{data:{id:e}}).then((function(n){t({type:"DELETE_TASK",id:e}),t(X())}))}},changeColumns:z,patchColumn:function(e,t){return function(){var n=Object(j.a)(k.a.mark((function n(a){return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,G.a.patch("".concat(J,"/todo"),e).then((function(){a(X())})).catch((function(e){return console.log(e)})),a({type:"PATCH_COLUMN",order2:t});case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},patchColumns:function(e){var t=e.sourceColumn,n=e.destColumn;return function(){var e=Object(j.a)(k.a.mark((function e(a){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G.a.patch("https://cryptic-beach-01154.herokuapp.com/collums",{sourceColumn:t,destColumn:n}).then((function(){a(X())})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(_e);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(l.a,{store:O},r.a.createElement(Fe,null))),document.getElementById("root"))}},[[206,1,2]]]);
//# sourceMappingURL=main.7b37fd0c.chunk.js.map